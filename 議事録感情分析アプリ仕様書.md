# è­°äº‹éŒ²æ–‡å­—èµ·ã“ã—ï¼†æ„Ÿæƒ…åˆ†æã‚¢ãƒ—ãƒª ä»•æ§˜æ›¸

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ç›®çš„
- éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰è­°äº‹éŒ²ã‚’è‡ªå‹•ç”Ÿæˆã—ã€æ„Ÿæƒ…åˆ†æã‚’è¡Œã†Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- Teamsã®è­°äº‹éŒ²æ©Ÿèƒ½ã®ä»£æ›¿ã¨ã—ã¦ã€ã‚ˆã‚Šé«˜ç²¾åº¦ãªæ–‡å­—èµ·ã“ã—ã¨æ„Ÿæƒ…åˆ†æã‚’æä¾›

### 1.2 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
```
Web UI â†’ S3 Event â†’ Step Functions â†’ Transcribe â†’ Bedrock â†’ Comprehend â†’ S3 â†’ Web UI
```

### 1.3 è¨­è¨ˆã‚³ãƒ³ã‚»ãƒ—ãƒˆ
- **ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹**: Lambdaã‚’ä½¿ç”¨ã›ãšã€ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã®ã¿ã§æ§‹æˆ
- **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•**: S3ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ã«ã‚ˆã‚‹è‡ªå‹•å‡¦ç†é–‹å§‹
- **ã‚·ãƒ³ãƒ—ãƒ«**: æœ€å°é™ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿç¾

## 2. æ©Ÿèƒ½è¦ä»¶ï¼ˆæœ€å°æ§‹æˆï¼‰

### 2.1 éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- **å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: MP3ã€MP4
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™**: æœ€å¤§100MB
- **ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ–¹å¼**: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã€ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ

### 2.2 æ–‡å­—èµ·ã“ã—æ©Ÿèƒ½
- **ã‚µãƒ¼ãƒ“ã‚¹**: Amazon Transcribe
- **å¯¾å¿œè¨€èª**: æ—¥æœ¬èª
- **è©±è€…è­˜åˆ¥**: ãªã—ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãªæ–‡å­—èµ·ã“ã—ã®ã¿ï¼‰
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: æ–‡å­—èµ·ã“ã—çµæœã‚’S3ã«ä¿å­˜

### 2.3 è­°äº‹éŒ²è¦ç´„æ©Ÿèƒ½
- **ã‚µãƒ¼ãƒ“ã‚¹**: Amazon Bedrock
- **ãƒ¢ãƒ‡ãƒ«**: Claude 3 Haiku
- **æ©Ÿèƒ½**: æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰è­°äº‹éŒ²è¦ç´„ã‚’ç”Ÿæˆ

### 2.4 æ„Ÿæƒ…åˆ†ææ©Ÿèƒ½
- **ã‚µãƒ¼ãƒ“ã‚¹**: Amazon Comprehend
- **åˆ†æé …ç›®**: æ„Ÿæƒ…ï¼ˆPositive, Negative, Neutral, Mixedï¼‰ã®ã¿

### 2.5 çµæœè¡¨ç¤ºãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- **è¡¨ç¤ºå½¢å¼**: æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã€è­°äº‹éŒ²è¦ç´„ã€æ„Ÿæƒ…åˆ†æçµæœ
- **ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å½¢å¼**: 
  - ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.txtï¼‰
  - Markdownãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.mdï¼‰
  - è­°äº‹éŒ²è¦ç´„ï¼ˆ.mdï¼‰

### 2.5 å±¥æ­´ç®¡ç†æ©Ÿèƒ½
- å‡¦ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§è¡¨ç¤ºã®ã¿

## 3. éæ©Ÿèƒ½è¦ä»¶ï¼ˆç°¡ç´ åŒ–ï¼‰

### 3.1 æ€§èƒ½è¦ä»¶
- **å‡¦ç†æ™‚é–“**: 5åˆ†ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’3åˆ†ä»¥å†…ã§å‡¦ç†
- **åŒæ™‚å‡¦ç†**: 1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤é †æ¬¡å‡¦ç†

### 3.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶
- **èªè¨¼**: Cognitoèªè¨¼ã®ã¿
- **ãƒ‡ãƒ¼ã‚¿ä¿æŒ**: å‡¦ç†å¾Œ7æ—¥ã§æ‰‹å‹•å‰Šé™¤

## 4. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### 4.1 AWSã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: S3 + CloudFrontï¼ˆé™çš„Webã‚µã‚¤ãƒˆï¼‰
- **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: Step Functionsï¼ˆS3ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ï¼‰
- **æ–‡å­—èµ·ã“ã—**: Amazon Transcribe
- **è­°äº‹éŒ²è¦ç´„**: Amazon Bedrockï¼ˆClaude 3 Haikuï¼‰
- **æ„Ÿæƒ…åˆ†æ**: Amazon Comprehend
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: S3ï¼ˆéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã€æ–‡å­—èµ·ã“ã—çµæœã€è¦ç´„çµæœã€æ„Ÿæƒ…åˆ†æçµæœï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: DynamoDBï¼ˆå‡¦ç†çŠ¶æ³ç®¡ç†ï¼‰
- **èªè¨¼**: Cognitoï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ï¼‰

### 4.2 Step Functions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆæ›´æ–°ç‰ˆï¼‰
```json
{
  "StartAt": "DetermineMediaFormat",
  "States": {
    "DetermineMediaFormat": {
      "Type": "Choice",
      "Choices": [
        {
          "Variable": "$.file_extension",
          "StringEquals": ".mp3",
          "Next": "TranscribeJobMP3"
        },
        {
          "Variable": "$.file_extension",
          "StringEquals": ".mp4",
          "Next": "TranscribeJobMP4"
        }
      ],
      "Default": "TranscribeJobMP3"
    },
    "TranscribeJobMP3": {
      "Type": "Task",
      "Resource": "arn:aws:states:::transcribe:startTranscriptionJob.sync",
      "Parameters": {
        "TranscriptionJobName.$": "$.job_id",
        "Media": {
          "MediaFileUri.$": "$.s3_uri"
        },
        "MediaFormat": "mp3",
        "LanguageCode": "ja-JP",
        "OutputBucketName.$": "$.output_bucket",
        "OutputKey.$": "States.Format('transcripts/{}.json', $.job_id)"
      },
      "Next": "GetTranscriptContent"
    },
    "TranscribeJobMP4": {
      "Type": "Task",
      "Resource": "arn:aws:states:::transcribe:startTranscriptionJob.sync",
      "Parameters": {
        "TranscriptionJobName.$": "$.job_id",
        "Media": {
          "MediaFileUri.$": "$.s3_uri"
        },
        "MediaFormat": "mp4",
        "LanguageCode": "ja-JP",
        "OutputBucketName.$": "$.output_bucket",
        "OutputKey.$": "States.Format('transcripts/{}.json', $.job_id)"
      },
      "Next": "GetTranscriptContent"
    },
    "GetTranscriptContent": {
      "Type": "Task",
      "Resource": "arn:aws:states:::aws-sdk:s3:getObject",
      "Parameters": {
        "Bucket.$": "$.output_bucket",
        "Key.$": "States.Format('transcripts/{}.json', $.job_id)"
      },
      "ResultPath": "$.transcript_result",
      "Next": "BedrockSummarization"
    },
    "BedrockSummarization": {
      "Type": "Task",
      "Resource": "arn:aws:states:::bedrock:invokeModel",
      "Parameters": {
        "ModelId": "anthropic.claude-3-haiku-20240307-v1:0",
        "Body": {
          "anthropic_version": "bedrock-2023-05-31",
          "max_tokens": 1000,
          "messages": [
            {
              "role": "user",
              "content.$": "States.Format('ä»¥ä¸‹ã®æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰è­°äº‹éŒ²ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚è¦ç‚¹ã‚’æ•´ç†ã—ã€æ±ºå®šäº‹é …ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã€æ¬¡å›ã¾ã§ã®èª²é¡Œã‚’æ˜ç¢ºã«ã—ã¦ãã ã•ã„ã€‚\\n\\næ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆ:\\n{}', $.transcript_result.Body)"
            }
          ]
        }
      },
      "ResultPath": "$.summary_result",
      "Next": "StoreSummaryToS3"
    },
    "StoreSummaryToS3": {
      "Type": "Task",
      "Resource": "arn:aws:states:::aws-sdk:s3:putObject",
      "Parameters": {
        "Bucket.$": "$.output_bucket",
        "Key.$": "States.Format('summaries/{}.md', $.job_id)",
        "Body.$": "$.summary_result.Body.content[0].text",
        "ContentType": "text/markdown"
      },
      "ResultPath": "$.summary_storage_result",
      "Next": "ComprehendSentiment"
    },
    "ComprehendSentiment": {
      "Type": "Task",
      "Resource": "arn:aws:states:::comprehend:detectSentiment",
      "Parameters": {
        "Text.$": "$.transcript_result.Body",
        "LanguageCode": "ja"
      },
      "ResultPath": "$.sentiment_result",
      "Next": "StoreSentimentToS3"
    },
    "StoreSentimentToS3": {
      "Type": "Task",
      "Resource": "arn:aws:states:::aws-sdk:s3:putObject",
      "Parameters": {
        "Bucket.$": "$.output_bucket",
        "Key.$": "States.Format('analysis/{}.json', $.job_id)",
        "Body.$": "States.JsonToString($.sentiment_result)",
        "ContentType": "application/json"
      },
      "ResultPath": "$.sentiment_storage_result",
      "Next": "UpdateCompleted"
    },
    "UpdateCompleted": {
      "Type": "Task",
      "Resource": "arn:aws:states:::dynamodb:putItem",
      "Parameters": {
        "TableName": "ProcessingJobs",
        "Item": {
          "job_id": {"S.$": "$.job_id"},
          "status": {"S": "COMPLETED"},
          "transcript_s3_key": {"S.$": "States.Format('transcripts/{}.json', $.job_id)"},
          "summary_s3_key": {"S.$": "States.Format('summaries/{}.md', $.job_id)"},
          "sentiment_s3_key": {"S.$": "States.Format('analysis/{}.json', $.job_id)"}
        }
      },
      "End": true
    }
  }
}
```

## 5. ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ

### 5.1 S3ãƒã‚±ãƒƒãƒˆæ§‹æˆ
```
meeting-transcription-app/
â”œâ”€â”€ uploads/           # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMP3ã€MP4ï¼‰
â”œâ”€â”€ transcripts/       # æ–‡å­—èµ·ã“ã—çµæœï¼ˆJSONï¼‰
â”œâ”€â”€ summaries/         # è­°äº‹éŒ²è¦ç´„çµæœï¼ˆMarkdownï¼‰
â”œâ”€â”€ analysis/          # æ„Ÿæƒ…åˆ†æçµæœï¼ˆJSONï¼‰
â””â”€â”€ downloads/         # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨ãƒ•ã‚¡ã‚¤ãƒ«
```

### 5.2 DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆï¼ˆç°¡ç´ åŒ–ï¼‰
**ãƒ†ãƒ¼ãƒ–ãƒ«å**: ProcessingJobs
```
- job_id (String, PK): å‡¦ç†ã‚¸ãƒ§ãƒ–ID
- file_name (String): å…ƒãƒ•ã‚¡ã‚¤ãƒ«å
- status (String): å‡¦ç†çŠ¶æ³ï¼ˆUPLOADED, PROCESSING, COMPLETED, ERRORï¼‰
- created_at (String): ä½œæˆæ—¥æ™‚
```

## 6. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹è¨­è¨ˆï¼ˆAPIä¸ä½¿ç”¨ï¼‰

### 6.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
- **ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: S3 Pre-signed URLä½¿ç”¨
- **çŠ¶æ³ç¢ºèª**: DynamoDBç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆCognitoèªè¨¼ï¼‰
- **çµæœå–å¾—**: S3ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆPre-signed URLï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤**: S3ç›´æ¥å‰Šé™¤

### 6.2 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
1. **ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: Web UI â†’ S3 Pre-signed URL â†’ S3
2. **å‡¦ç†é–‹å§‹**: S3 Event â†’ Step Functions
3. **çŠ¶æ³ç¢ºèª**: Web UI â†’ DynamoDB
4. **çµæœå–å¾—**: Web UI â†’ S3 Pre-signed URL

## 7. WebUIè¨­è¨ˆï¼ˆé™çš„ã‚µã‚¤ãƒˆï¼‰

### 7.1 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **HTML5**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãªãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—
- **CSS3**: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¸ä½¿ç”¨ï¼‰
- **JavaScript**: Vanilla JSï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸ä½¿ç”¨ï¼‰
- **AWS SDK**: JavaScriptç”¨SDKï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆï¼‰

### 7.2 ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
web/
â”œâ”€â”€ index.html          # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”œâ”€â”€ result.html         # çµæœè¡¨ç¤ºãƒšãƒ¼ã‚¸
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css       # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â””â”€â”€ js/
    â”œâ”€â”€ main.js         # ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
    â”œâ”€â”€ auth.js         # Cognitoèªè¨¼
    â”œâ”€â”€ upload.js       # ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    â””â”€â”€ result.js       # çµæœè¡¨ç¤º
```

### 7.3 ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆindex.htmlï¼‰
```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è­°äº‹éŒ²AIåˆ†æ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¤ è­°äº‹éŒ²AIåˆ†æ</h1>
            <button id="logout-btn" class="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </header>
        
        <main>
            <!-- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="upload-section">
                <h2>ğŸ“ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h2>
                <div id="drop-area" class="upload-area">
                    <input type="file" id="file-input" accept=".mp3,.mp4" style="display: none;">
                    <div class="upload-content">
                        <div class="upload-icon">ğŸ“</div>
                        <p class="upload-text">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ãã ã•ã„</p>
                        <p class="upload-or">ã¾ãŸã¯</p>
                        <button id="file-select-btn" class="file-select-btn">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                        <p class="file-info">MP3ã€MP4ãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œã€æœ€å¤§100MB</p>
                    </div>
                    <div id="upload-status" class="upload-status"></div>
                </div>
            </section>
            
            <!-- å‡¦ç†çŠ¶æ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="status-section">
                <div class="section-header">
                    <h2>ğŸ”„ å‡¦ç†çŠ¶æ³</h2>
                    <button id="refresh-btn" class="refresh-btn">æ›´æ–°</button>
                </div>
                <div id="jobs-list" class="jobs-list">
                    <p class="no-jobs">å‡¦ç†ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“</p>
                </div>
            </section>
        </main>
    </div>
    
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1000.0.min.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/upload.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
```

### 7.4 çµæœè¡¨ç¤ºãƒšãƒ¼ã‚¸ï¼ˆresult.htmlï¼‰
```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµæœè¡¨ç¤º - è­°äº‹éŒ²AIåˆ†æ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <button id="back-btn" class="back-btn">â† æˆ»ã‚‹</button>
            <h1 id="result-title">çµæœè¡¨ç¤º</h1>
        </header>
        
        <main>
            <!-- è­°äº‹éŒ²è¦ç´„çµæœ -->
            <section class="summary-section">
                <h2>ğŸ“‹ è­°äº‹éŒ²è¦ç´„</h2>
                <div id="summary-content" class="summary-content">
                    <p class="loading">èª­ã¿è¾¼ã¿ä¸­...</p>
                </div>
            </section>
            
            <!-- æ–‡å­—èµ·ã“ã—çµæœ -->
            <section class="transcript-section">
                <h2>ğŸ“ æ–‡å­—èµ·ã“ã—çµæœ</h2>
                <div id="transcript-content" class="transcript-content">
                    <p class="loading">èª­ã¿è¾¼ã¿ä¸­...</p>
                </div>
            </section>
            
            <!-- æ„Ÿæƒ…åˆ†æçµæœ -->
            <section class="sentiment-section">
                <h2>ğŸ˜Š æ„Ÿæƒ…åˆ†æçµæœ</h2>
                <div id="sentiment-content" class="sentiment-content">
                    <div class="sentiment-grid">
                        <div class="sentiment-item">
                            <span class="sentiment-label">Positive</span>
                            <span id="positive-score" class="sentiment-score">-</span>
                        </div>
                        <div class="sentiment-item">
                            <span class="sentiment-label">Negative</span>
                            <span id="negative-score" class="sentiment-score">-</span>
                        </div>
                        <div class="sentiment-item">
                            <span class="sentiment-label">Neutral</span>
                            <span id="neutral-score" class="sentiment-score">-</span>
                        </div>
                        <div class="sentiment-item">
                            <span class="sentiment-label">Mixed</span>
                            <span id="mixed-score" class="sentiment-score">-</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="download-section">
                <h2>ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</h2>
                <div class="download-buttons">
                    <button id="download-txt" class="download-btn">TXTãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <button id="download-md" class="download-btn">MDãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    <button id="download-summary" class="download-btn">è­°äº‹éŒ²è¦ç´„ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                </div>
            </section>
        </main>
    </div>
    
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1000.0.min.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/result.js"></script>
</body>
</html>
```

### 7.5 ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆï¼ˆstyle.cssï¼‰
```css
/* ãƒªã‚»ãƒƒãƒˆã¨åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f5f5f5;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background: white;
    min-height: 100vh;
}

/* ãƒ˜ãƒƒãƒ€ãƒ¼ */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #eee;
}

h1 {
    color: #2c3e50;
    font-size: 24px;
}

h2 {
    color: #34495e;
    font-size: 18px;
    margin-bottom: 15px;
}

/* ãƒœã‚¿ãƒ³ */
.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s;
}

.file-select-btn {
    background: #3498db;
    color: white;
    padding: 15px 30px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
}

.file-select-btn:hover {
    background: #2980b9;
}

/* ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ */
.upload-area {
    text-align: center;
    padding: 40px;
    border: 2px dashed #ddd;
    border-radius: 10px;
    margin-bottom: 30px;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
}

.upload-area:hover {
    border-color: #3498db;
    background-color: #f8f9fa;
}

.upload-area.drag-over {
    border-color: #3498db;
    background-color: #e3f2fd;
    transform: scale(1.02);
}

.upload-content {
    pointer-events: none;
}

.upload-icon {
    font-size: 48px;
    margin-bottom: 15px;
    opacity: 0.7;
}

.upload-text {
    font-size: 18px;
    color: #333;
    margin-bottom: 10px;
    font-weight: 500;
}

.upload-or {
    color: #666;
    margin: 15px 0;
    font-size: 14px;
}

.file-info {
    margin-top: 15px;
    color: #666;
    font-size: 14px;
}

.upload-status {
    margin-top: 20px;
    padding: 10px;
    border-radius: 5px;
    display: none;
}

.upload-status.success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
    display: block;
}

.upload-status.error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
    display: block;
}

.upload-status.uploading {
    background-color: #d1ecf1;
    color: #0c5460;
    border: 1px solid #bee5eb;
    display: block;
}

/* å‡¦ç†çŠ¶æ³ */
.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.refresh-btn {
    background: #95a5a6;
    color: white;
    padding: 8px 16px;
    border-radius: 5px;
    border: none;
    cursor: pointer;
}

.job-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    margin-bottom: 10px;
    background: #f9f9f9;
}

.job-info {
    flex: 1;
}

.job-name {
    font-weight: bold;
    margin-bottom: 5px;
}

.job-status {
    font-size: 14px;
    color: #666;
}

.status-completed { color: #27ae60; }
.status-processing { color: #f39c12; }
.status-error { color: #e74c3c; }

/* çµæœè¡¨ç¤º */
.summary-content {
    background: #e8f5e8;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    white-space: pre-wrap;
    line-height: 1.8;
    border-left: 4px solid #28a745;
}

.transcript-content {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    white-space: pre-wrap;
    line-height: 1.8;
}

.sentiment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.sentiment-item {
    text-align: center;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 8px;
    border: 1px solid #dee2e6;
}

.sentiment-label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
    color: #495057;
}

.sentiment-score {
    font-size: 24px;
    font-weight: bold;
    color: #007bff;
}

/* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ */
.download-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.download-btn {
    background: #28a745;
    color: white;
    padding: 12px 24px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    font-size: 14px;
}

.download-btn:hover {
    background: #218838;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
@media (max-width: 768px) {
    .container {
        padding: 15px;
    }
    
    .sentiment-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .download-buttons {
        flex-direction: column;
    }
}
```

### 7.6 JavaScriptæ©Ÿèƒ½æ¦‚è¦

#### 7.6.1 ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆmain.jsï¼‰
- ãƒšãƒ¼ã‚¸åˆæœŸåŒ–
- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
- å‡¦ç†çŠ¶æ³ä¸€è¦§è¡¨ç¤º

#### 7.6.2 èªè¨¼æ©Ÿèƒ½ï¼ˆauth.jsï¼‰
- Cognitoèªè¨¼åˆæœŸåŒ–
- ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
- ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

#### 7.6.3 ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆupload.jsï¼‰
```javascript
// ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½
class FileUploader {
    constructor() {
        this.dropArea = document.getElementById('drop-area');
        this.fileInput = document.getElementById('file-input');
        this.fileSelectBtn = document.getElementById('file-select-btn');
        this.uploadStatus = document.getElementById('upload-status');
        
        this.initializeEventListeners();
    }
    
    initializeEventListeners() {
        // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¤ãƒ™ãƒ³ãƒˆ
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            this.dropArea.addEventListener(eventName, this.preventDefaults, false);
        });
        
        ['dragenter', 'dragover'].forEach(eventName => {
            this.dropArea.addEventListener(eventName, this.highlight.bind(this), false);
        });
        
        ['dragleave', 'drop'].forEach(eventName => {
            this.dropArea.addEventListener(eventName, this.unhighlight.bind(this), false);
        });
        
        this.dropArea.addEventListener('drop', this.handleDrop.bind(this), false);
        this.dropArea.addEventListener('click', () => this.fileInput.click());
        
        // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠã‚¤ãƒ™ãƒ³ãƒˆ
        this.fileInput.addEventListener('change', this.handleFileSelect.bind(this));
        this.fileSelectBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            this.fileInput.click();
        });
    }
    
    preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
    }
    
    highlight() {
        this.dropArea.classList.add('drag-over');
    }
    
    unhighlight() {
        this.dropArea.classList.remove('drag-over');
    }
    
    handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        this.handleFiles(files);
    }
    
    handleFileSelect(e) {
        const files = e.target.files;
        this.handleFiles(files);
    }
    
    handleFiles(files) {
        if (files.length === 0) return;
        
        const file = files[0];
        if (this.validateFile(file)) {
            this.uploadFile(file);
        }
    }
    
    validateFile(file) {
        // MP3/MP4ãƒ•ã‚¡ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯
        const validTypes = ['audio/mpeg', 'video/mp4'];
        const validExtensions = ['.mp3', '.mp4'];
        const fileName = file.name.toLowerCase();
        
        const isValidType = validTypes.includes(file.type);
        const isValidExtension = validExtensions.some(ext => fileName.endsWith(ext));
        
        if (!isValidType && !isValidExtension) {
            this.showStatus('MP3ã¾ãŸã¯MP4ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã§ã™', 'error');
            return false;
        }
        
        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯ (100MB)
        if (file.size > 100 * 1024 * 1024) {
            this.showStatus('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ100MBã‚’è¶…ãˆã¦ã„ã¾ã™', 'error');
            return false;
        }
        
        return true;
    }
    
    async uploadFile(file) {
        try {
            this.showStatus(`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­: ${file.name}`, 'uploading');
            
            // S3 Pre-signed URLå–å¾—
            const presignedUrl = await this.getPresignedUrl(file.name);
            
            // S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            await this.uploadToS3(presignedUrl, file);
            
            // DynamoDBã‚¸ãƒ§ãƒ–ç™»éŒ²
            await this.createJob(file.name);
            
            this.showStatus(`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†: ${file.name}`, 'success');
            
            // ãƒ•ã‚¡ã‚¤ãƒ«å…¥åŠ›ã‚’ãƒªã‚»ãƒƒãƒˆ
            this.fileInput.value = '';
            
            // å‡¦ç†çŠ¶æ³ä¸€è¦§ã‚’æ›´æ–°
            if (window.jobManager) {
                window.jobManager.refreshJobs();
            }
            
        } catch (error) {
            console.error('Upload error:', error);
            this.showStatus(`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
        }
    }
    
    showStatus(message, type) {
        this.uploadStatus.textContent = message;
        this.uploadStatus.className = `upload-status ${type}`;
        
        // 3ç§’å¾Œã«æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤º
        if (type === 'success') {
            setTimeout(() => {
                this.uploadStatus.style.display = 'none';
            }, 3000);
        }
    }
    
    async getPresignedUrl(fileName) {
        // AWS SDKã‚’ä½¿ç”¨ã—ã¦Pre-signed URLã‚’å–å¾—
        // å®Ÿè£…è©³ç´°ã¯çœç•¥
    }
    
    async uploadToS3(presignedUrl, file) {
        // S3ã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†
        // å®Ÿè£…è©³ç´°ã¯çœç•¥
    }
    
    async createJob(fileName) {
        // DynamoDBã«ã‚¸ãƒ§ãƒ–ã‚’ç™»éŒ²
        // å®Ÿè£…è©³ç´°ã¯çœç•¥
    }
}

// åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', () => {
    window.fileUploader = new FileUploader();
});
```

**æ©Ÿèƒ½è©³ç´°**:
- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œ
- ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒœã‚¿ãƒ³
- ãƒ•ã‚¡ã‚¤ãƒ«æ¤œè¨¼ï¼ˆMP3ã€100MBï¼‰
- ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- S3 Pre-signed URLå–å¾—
- S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- DynamoDBã‚¸ãƒ§ãƒ–ç™»éŒ²

#### 7.6.4 çµæœè¡¨ç¤ºï¼ˆresult.jsï¼‰
- S3ã‹ã‚‰çµæœãƒ‡ãƒ¼ã‚¿å–å¾—
- æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º
- æ„Ÿæƒ…åˆ†æçµæœè¡¨ç¤º
- TXT/MDãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

## 8. é–‹ç™ºãƒ»é‹ç”¨

### 8.1 é–‹ç™ºç’°å¢ƒï¼ˆé™çš„ã‚µã‚¤ãƒˆæ§‹æˆï¼‰
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: HTML5, CSS3, JavaScriptï¼ˆVanilla JSï¼‰
- **CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: ãªã—ï¼ˆã‚«ã‚¹ã‚¿ãƒ CSSï¼‰
- **AWS SDK**: AWS SDK for JavaScriptï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆï¼‰
- **IaC**: AWS CDKï¼ˆTypeScriptï¼‰
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: S3 + CloudFront

### 8.2 ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
- **ãƒ†ã‚¹ãƒˆç”¨**: 2-3åˆ†ã®ä¼šè­°éŸ³å£°ï¼ˆMP3ï¼‰ã®ã¿

### 8.3 ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
1. CDKã‚¹ã‚¿ãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤
2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
3. å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ

## 9. åˆ¶ç´„äº‹é …ãƒ»æ³¨æ„ç‚¹

### 9.1 åˆ¶ç´„äº‹é …
- Transcribeã®å‡¦ç†æ™‚é–“ã¯éŸ³å£°ã®é•·ã•ã«ä¾å­˜
- Comprehendã¯æ—¥æœ¬èªã®æ„Ÿæƒ…åˆ†æç²¾åº¦ã«é™ç•Œã‚ã‚Š
- åŒæ™‚å‡¦ç†æ•°ã®åˆ¶é™ã«ã‚ˆã‚‹ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ç™ºç”Ÿã®å¯èƒ½æ€§

## 10. é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ3äººÃ—1æ—¥ï¼‰

### 10.1 å½¹å‰²åˆ†æ‹…ï¼ˆé™çš„ã‚µã‚¤ãƒˆæ§‹æˆï¼‰
- **ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢1**: ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ï¼ˆCDKã€S3ã€DynamoDBã€Step Functionsã€Cognitoã€CloudFrontï¼‰
- **ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢2**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºï¼ˆHTML/CSS/JavaScriptã€AWS SDKé€£æºï¼‰
- **ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢3**: çµ±åˆãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒãƒƒã‚°ã€ãƒ‡ãƒ—ãƒ­ã‚¤

### 10.2 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- **åˆå‰ï¼ˆ4æ™‚é–“ï¼‰**: åŸºç›¤æ§‹ç¯‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º
- **åˆå¾Œï¼ˆ4æ™‚é–“ï¼‰**: çµ±åˆã€ãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒãƒƒã‚°ã€å®Œæˆ

### 10.3 å‰Šé™¤ã—ãŸæ©Ÿèƒ½ï¼ˆå°†æ¥æ‹¡å¼µç”¨ï¼‰
- è©±è€…è­˜åˆ¥
- ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ã‚ºãƒ»ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡º
- ã‚°ãƒ©ãƒ•è¡¨ç¤º
- è‡ªå‹•æ›´æ–°
- é«˜åº¦ãªUI/UXæ©Ÿèƒ½
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
- è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«åŒæ™‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰